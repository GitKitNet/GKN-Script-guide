<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
    <meta
     name="generator"
     content=
    "HTML Tidy for Linux/x86 (vers 1st July 2002), see www.w3.org">

    <title>История команд</title>
    
    <meta
     name="GENERATOR"
     content="Modular DocBook HTML Stylesheet Version 1.7">
    <link
     rel="HOME"
     title="Advanced Bash-Scripting Guide"
     href="index.html">
    <link
     rel="PREVIOUS"
     title="Локализация"
     href="a15021.html">
    <link
     rel="NEXT"
     title="Пример файла .bashrc"
     href="a15124.html">
  </head>

  <body bgcolor="#DDE1C2"><b><a href="http://www.opennet.ru/docs/">Архив документации OpenNet.ru</a> / 
Раздел "<a href="http://www.opennet.ru/docs/124.shtml">Программирование, языки</a>" /
<a href="index.html">Индекс</a>
</b>
<hr noshade size=1>

    <div
     class="NAVHEADER">
      <table
       summary="Header navigation table"
       width="100%"
       border="0"
       cellpadding="0"
       cellspacing="0">
        <tr>
          <th
           colspan="3"
           align="center">Advanced Bash-Scripting Guide: Искусство
          программирования на языке сценариев командной оболочки</th>
        </tr>

        <tr>
          <td
           width="10%"
           align="left"
           valign="bottom"><a
           href="a15021.html"
           accesskey="P">Назад</a></td>

          <td
           width="80%"
           align="center"
           valign="bottom">
          </td>

          <td
           width="10%"
           align="right"
           valign="bottom"><a
           href="a15124.html"
           accesskey="N">Вперед</a></td>
        </tr>
      </table>
      <hr
       align="left"
       width="100%">
    </div>

    <div
     class="APPENDIX">
      <h1><a
       name="HISTCOMMANDS"></a>Приложение F. История команд</h1>

      <p>Командная оболочка Bash предоставляет в распоряжение
      пользователя инструментарий командной строки, позволяющий
      управлять <span
       class="emphasis"><em
       class="EMPHASIS">историей команд</em></span>. История команд --
      это, прежде всего, очень удобный инструмент, сокращающий ручной
      ввод.</p>

      <p>История команд Bash:</p>

      <ol
       type="1">
        <li>
          <p><strong
           class="COMMAND">history</strong></p>
        </li>

        <li>
          <p><strong
           class="COMMAND">fc</strong></p>
        </li>
      </ol>
      <br>
      <br>
<pre
 class="SCREEN">
<tt
 class="PROMPT">bash$</tt> <tt
 class="USERINPUT"><strong>history</strong></tt>
<tt
 class="COMPUTEROUTPUT">1  mount /mnt/cdrom
2  cd /mnt/cdrom
3  ls
     ...</tt>
             
</pre>
      <br>
      <br>

      <p>Внутренние переменные Bash, связанные с историей команд:</p>

      <ol
       type="1">
        <li>
          <p>$HISTCMD</p>
        </li>

        <li>
          <p>$HISTCONTROL</p>
        </li>

        <li>
          <p>$HISTIGNORE</p>
        </li>

        <li>
          <p>$HISTFILE</p>
        </li>

        <li>
          <p>$HISTFILESIZE</p>
        </li>

        <li>
          <p>$HISTSIZE</p>
        </li>

        <li>
          <p>!!</p>
        </li>

        <li>
          <p>!$</p>
        </li>

        <li>
          <p>!#</p>
        </li>

        <li>
          <p>!N</p>
        </li>

        <li>
          <p>!-N</p>
        </li>

        <li>
          <p>!STRING</p>
        </li>

        <li>
          <p>!?STRING?</p>
        </li>

        <li>
          <p>^STRING^string^</p>
        </li>
      </ol>
      <br>
      <br>

      <p>К сожалению, инструменты истории команд, в Bash, совершенно
      бесполезны в сценариях.</p>
<pre
 class="PROGRAMLISTING">
#!/bin/bash
# history.sh
# Попытка воспользоваться &#39;историей&#39; команд в сценарии.

history

# На экран ничего не выводится.
# История команд не работает в сценариях.
</pre>
      <br>
      <br>
<pre
 class="SCREEN">
<tt
 class="PROMPT">bash$</tt> <tt
 class="USERINPUT"><strong>./history.sh</strong></tt>
<tt
 class="COMPUTEROUTPUT">(ничего не выводится)</tt>
             
</pre>
      <br>
      <br>
    </div>

    <div
     class="NAVFOOTER">
      <hr
       align="left"
       width="100%">

      <table
       summary="Footer navigation table"
       width="100%"
       border="0"
       cellpadding="0"
       cellspacing="0">
        <tr>
          <td
           width="33%"
           align="left"
           valign="top"><a
           href="a15021.html"
           accesskey="P">Назад</a></td>

          <td
           width="34%"
           align="center"
           valign="top"><a
           href="index.html"
           accesskey="H">К началу</a></td>

          <td
           width="33%"
           align="right"
           valign="top"><a
           href="a15124.html"
           accesskey="N">Вперед</a></td>
        </tr>

        <tr>
          <td
           width="33%"
           align="left"
           valign="top">Локализация</td>

          <td
           width="34%"
           align="center"
           valign="top"> </td>

          <td
           width="33%"
           align="right"
           valign="top">Пример файла <tt
           class="FILENAME">.bashrc</tt></td>
        </tr>
      </table>
    </div>
  <hr noshade size=1>
<b><a href="http://www.opennet.ru/docs/">Архив документации на OpenNet.ru</a>
</body>
</html>

